{"ast":null,"code":"var _jsxFileName = \"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/src/components/Centers/Center.js\";\n// import React, { Component } from 'react'\n// // import { Link } from 'react-router-dom'\n// import axios from 'axios'\n// export default class Center extends Component {\n//     state = {\n//         center: {}\n//     }\n//     getCenter = async () => {\n//         console.log(this.props.match.params.id)\n//         const response = await axios.get(`http://localhost:3000/api/center/${this.props.match.params.id}`)        \n//         this.setState({\n//             center: response.data.place\n//         })\n//     }\n//     componentDidMount() {\n//         this.getCenter()\n//     }\n//     render() {\n//         const { center } = this.state\n//        console.log(center);\n//         return (\n//             <div className=\"columns\">\n//                 <div  className=\"column is -7 map\">\n//                     <head>\n//                         <title>Localizacion</title>\n//                         <script src='https://api.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.js'></script>\n//                         <link href='https://api.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.css' rel='stylesheet' />\n//                     </head>\n//                     <body>\n//                         <h3>Localizacion</h3>                        \n//                         <div id='map' style='width: 300px; height: 200px;'></div>\n//                         <script>\n//                             mapboxgl.accessToken = 'pk.eyJ1IjoidGFubWFyMjMiLCJhIjoiY2swZHhvbnJpMGJ4bDNubXFqNGdybDlkYiJ9.va1kadS3r0r_3NprttZ3YA';\n//                             var map = new mapboxgl.Map({\n//                             container: 'map',\n//                             style: 'mapbox://styles/mapbox/streets-v11',\n//                             center: [-99.1711, 19.399],\n//                             zoom: 15\n//                             });\n//                         </script>\n//                     </body>\n//                 </div>\n//                 <div  className=\"column is-5 data\">\n//                     <p>Categoria: {this.state.center.tipoResiduo}</p>\n//                     <p>Nombre: {this.state.center.empresa}</p>\n//                     <p>Como llegar?</p>\n//                     <p>Direccion: {this.state.center.address}</p>\n//                     <p>Contacto</p>\n//                     <p>Email: {this.state.center.email ? this.state.center.email : 'No disponible'}</p>\n//                     <p>Numero: {this.state.center.contactNumber ? this.state.center.contactNumber : 'No disponible'}</p>\n//                     <p>Website: {this.state.center.website ? this.state.center.website : 'No disponible'}</p>\n//                     <p>Horario: {this.state.center.horario ? this.state.center.horario : 'No disponible'}</p>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\nimport React, { Component } from \"react\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport mapboxgl from \"mapbox-gl\";\nimport axios from 'axios';\nmapboxgl.accessToken = \"pk.eyJ1IjoibWx6eiIsImEiOiJjandrNmVzNzUwNWZjNGFqdGcwNmJ2ZWhpIn0.ybY6wnAtJwj-Tq0c46sW6A\";\n\nclass Center extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      center: {}\n    };\n  }\n\n  componentDidMount() {\n    getCenter = async () => {\n      const response = await axios.get(\"http://localhost:3000/api/center/\".concat(this.props.match.params.id));\n      this.setState({\n        center: response.data.place\n      });\n    };\n\n    this.getCenter();\n    console.log(this.state.center);\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: \"mapbox://styles/mapbox/streets-v9\"\n    });\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        const user_location = [position.coords.longitude, position.coords.latitude];\n        map.setZoom(15).setCenter(user_location);\n        new mapboxgl.Marker({\n          color: \"red\"\n        }).setLngLat(user_location).setPopup(new mapboxgl.Popup().setHTML(\"<h3>Usted está aquí</h3>\")).addTo(map);\n      });\n    } // const center_location = [this.state.center.longitud, this.state.center.latitud]\n    // new mapboxgl.Marker({ color: \"blue\" })\n    // .setLngLat(center_location)\n    // .setPopup(new mapboxgl.Popup().setHTML(\"<h3>Usted está aquí</h3>\"))\n    // .addTo(map);\n\n\n    map.addControl(new mapboxgl.GeolocateControl({\n      positionOptions: {\n        enableHighAccuracy: true\n      },\n      trackUserLocation: true,\n      showUserLocation: true\n    }));\n    map.addControl(new MapboxDirections({\n      accessToken: mapboxgl.accessToken,\n      unit: \"metric\",\n      language: \"es\",\n      placeholderOrigin: \"Seleccione su lugar de origen\",\n      placeholderDestination: \"Seleccione su destino\"\n    }), \"top-left\");\n    map.addControl(new mapboxgl.NavigationControl());\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"50vw\",\n        height: \"90vh\"\n      },\n      ref: e => this.mapContainer = e,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, this.state.center.empresa)));\n  }\n\n}\n\nexport default Center;","map":{"version":3,"sources":["/home/nicte/ironhack/Proyecto-Modulo-3/frontend/src/components/Centers/Center.js"],"names":["React","Component","MapboxDirections","mapboxgl","axios","accessToken","Center","state","center","componentDidMount","getCenter","response","get","props","match","params","id","setState","data","place","console","log","map","Map","container","mapContainer","style","navigator","geolocation","getCurrentPosition","position","user_location","coords","longitude","latitude","setZoom","setCenter","Marker","color","setLngLat","setPopup","Popup","setHTML","addTo","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","showUserLocation","unit","language","placeholderOrigin","placeholderDestination","NavigationControl","render","width","height","e","empresa"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react'\n// // import { Link } from 'react-router-dom'\n// import axios from 'axios'\n\n\n// export default class Center extends Component {\n//     state = {\n//         center: {}\n//     }\n\n//     getCenter = async () => {\n//         console.log(this.props.match.params.id)\n//         const response = await axios.get(`http://localhost:3000/api/center/${this.props.match.params.id}`)        \n//         this.setState({\n//             center: response.data.place\n//         })\n//     }\n\n//     componentDidMount() {\n//         this.getCenter()\n//     }\n\n\n//     render() {\n//         const { center } = this.state\n//        console.log(center);\n//         return (\n//             <div className=\"columns\">\n//                 <div  className=\"column is -7 map\">\n//                     <head>\n//                         <title>Localizacion</title>\n//                         <script src='https://api.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.js'></script>\n//                         <link href='https://api.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.css' rel='stylesheet' />\n//                     </head>\n//                     <body>\n//                         <h3>Localizacion</h3>                        \n//                         <div id='map' style='width: 300px; height: 200px;'></div>\n//                         <script>\n//                             mapboxgl.accessToken = 'pk.eyJ1IjoidGFubWFyMjMiLCJhIjoiY2swZHhvbnJpMGJ4bDNubXFqNGdybDlkYiJ9.va1kadS3r0r_3NprttZ3YA';\n\n//                             var map = new mapboxgl.Map({\n//                             container: 'map',\n//                             style: 'mapbox://styles/mapbox/streets-v11',\n//                             center: [-99.1711, 19.399],\n//                             zoom: 15\n//                             });\n//                         </script>\n//                     </body>\n        \t\t\n//                 </div>\n//                 <div  className=\"column is-5 data\">\n//                     <p>Categoria: {this.state.center.tipoResiduo}</p>\n//                     <p>Nombre: {this.state.center.empresa}</p>\n//                     <p>Como llegar?</p>\n//                     <p>Direccion: {this.state.center.address}</p>\n//                     <p>Contacto</p>\n//                     <p>Email: {this.state.center.email ? this.state.center.email : 'No disponible'}</p>\n//                     <p>Numero: {this.state.center.contactNumber ? this.state.center.contactNumber : 'No disponible'}</p>\n//                     <p>Website: {this.state.center.website ? this.state.center.website : 'No disponible'}</p>\n//                     <p>Horario: {this.state.center.horario ? this.state.center.horario : 'No disponible'}</p>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n\n\nimport React, { Component } from \"react\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport mapboxgl from \"mapbox-gl\";\nimport axios from 'axios'\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoibWx6eiIsImEiOiJjandrNmVzNzUwNWZjNGFqdGcwNmJ2ZWhpIn0.ybY6wnAtJwj-Tq0c46sW6A\";\n\nclass Center extends Component {\n    state = {\n                center: {}\n            }\n        \n    \n\n\n  componentDidMount() {\n\n    getCenter = async () => {\n        const response = await axios.get(`http://localhost:3000/api/center/${this.props.match.params.id}`)     \n        this.setState({\n            center: response.data.place\n        })\n    }\n\n    this.getCenter()\n\n    console.log(this.state.center)\n\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: \"mapbox://styles/mapbox/streets-v9\"\n    });\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function(position) {\n        const user_location = [\n          position.coords.longitude,\n          position.coords.latitude\n        ];\n        map.setZoom(15).setCenter(user_location);\n        new mapboxgl.Marker({ color: \"red\" })\n          .setLngLat(user_location)\n          .setPopup(new mapboxgl.Popup().setHTML(\"<h3>Usted está aquí</h3>\"))\n          .addTo(map);\n      });\n    }\n\n    // const center_location = [this.state.center.longitud, this.state.center.latitud]\n\n    // new mapboxgl.Marker({ color: \"blue\" })\n    // .setLngLat(center_location)\n    // .setPopup(new mapboxgl.Popup().setHTML(\"<h3>Usted está aquí</h3>\"))\n    // .addTo(map);\n\n    map.addControl(\n      new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true\n        },\n        trackUserLocation: true,\n        showUserLocation: true\n      })\n    );\n\n    map.addControl(\n      new MapboxDirections({\n        accessToken: mapboxgl.accessToken,\n        unit: \"metric\",\n        language: \"es\",\n        placeholderOrigin: \"Seleccione su lugar de origen\",\n        placeholderDestination: \"Seleccione su destino\"\n      }),\n      \"top-left\"\n    );\n\n    map.addControl(new mapboxgl.NavigationControl());\n\n  }\n  render() {\n    return (\n     <div>\n          <div\n        style={{ width: \"50vw\", height: \"90vh\" }}\n        ref={e => (this.mapContainer = e)}\n      />\n      <div>\n          <h1>{this.state.center.empresa}</h1>\n      </div>\n     </div>\n    );\n  }\n}\n\nexport default Center;"]},"metadata":{},"sourceType":"module"}