{"ast":null,"code":"import _regeneratorRuntime from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import QrReader from'react-qr-reader';import{NavLink}from'react-router-dom';import axios from'axios';import CENTER_SERVICE from'../../services/centers';var Test=/*#__PURE__*/function(_Component){_inherits(Test,_Component);function Test(){var _getPrototypeOf2;var _this;_classCallCheck(this,Test);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Test)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={result:'',contribution:{quantity:'',unity:''}};_this.addContribution=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref2,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return CENTER_SERVICE.addContribution(_this.state.contribution);case 2:_ref2=_context.sent;data=_ref2.data;console.log(data);case 5:case\"end\":return _context.stop();}}},_callee);}));_this.onSubmit=function(e){e.preventDefault();_this.addContribution();_this.props.history.push('/contribution-list');};_this.handleInput=function(e){var contribution=_this.state.contribution;var key=e.target.name;contribution[key]=e.target.value;_this.setState({contribution:contribution});};_this.handleScan=function(data){if(data){_this.setState({result:data});var details=data.replace(\" \",\"-\");axios.get('https://young-beyond-07801.herokuapp.com/api/levelup/'+details);}};_this.handleError=function(err){console.error(err);};return _this;}_createClass(Test,[{key:\"render\",value:function render(){var contribution=this.state.contribution;return React.createElement(\"div\",{className:\"qrreader-wrapper\"},React.createElement(\"div\",{className:\"qrreader-container container\"},React.createElement(\"div\",{className:\"columns is-centered\"},React.createElement(\"div\",{className:\"column is-5 box\"},React.createElement(\"p\",{className:\"has-text-centered\"},\"Escanea el codigo QR presentado por el usuario\"),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"qr-code-reader\"},React.createElement(QrReader,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:'40%'}})),React.createElement(\"br\",null),React.createElement(\"p\",{className:\"has-text-centered\"},this.state.result),this.state.result?React.createElement(React.Fragment,null,React.createElement(\"p\",null,\"Registra la contribucion del usuario!\"),React.createElement(\"form\",{className:\"columns is-5 box\",onSubmit:this.onSubmit},React.createElement(\"div\",{className:\"field\"},React.createElement(\"div\",{className:\"control\"},React.createElement(\"input\",{className:\"input is-primary\",onChange:this.handleInput,name:\"quantity\",value:contribution.quantity,type:\"text\",placeholder:\"cantidad\"}))),React.createElement(\"div\",{className:\"field\"},React.createElement(\"div\",{className:\"control\"},React.createElement(\"input\",{className:\"input is-primary\",onChange:this.handleInput,name:\"unity\",value:contribution.unity,type:\"text\",placeholder:\"ejemplo: litros, kilos\"}))),React.createElement(\"div\",null,React.createElement(\"input\",{className:\"button is-primary is-fullwidth\",type:\"submit\",value:\"Agregar contribucion\"})))):'',React.createElement(\"div\",{className:\"button-contribution\"},React.createElement(NavLink,{to:\"/centers\"},React.createElement(\"button\",{className:\"button is-primary\"},\"Centros\")))))));}}]);return Test;}(Component);export{Test as default};","map":{"version":3,"sources":["/home/nicte/ironhack/Proyecto-Modulo-3/frontend/src/components/Profile/Test.js"],"names":["React","Component","QrReader","NavLink","axios","CENTER_SERVICE","Test","state","result","contribution","quantity","unity","addContribution","data","console","log","onSubmit","e","preventDefault","props","history","push","handleInput","key","target","name","value","setState","handleScan","details","replace","get","handleError","err","error","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport QrReader from 'react-qr-reader'\nimport { NavLink } from 'react-router-dom'\nimport axios from 'axios';\nimport CENTER_SERVICE from '../../services/centers'\n\nexport default class Test extends Component {\n    state = {\n        result: '',\n        contribution: {\n          quantity: '',\n          unity: ''\n        }\n      }\n     \n\n      addContribution = async () => {\n        const {data} = await CENTER_SERVICE.addContribution(this.state.contribution)\n        console.log(data);\n      }\n\n      onSubmit = (e) => {\n        e.preventDefault();\n        this.addContribution()\n        this.props.history.push('/contribution-list')\n      };\n\n      handleInput = (e) => {\n        const { contribution } = this.state;\n        const key = e.target.name;\n        contribution[key] = e.target.value;\n        this.setState({ contribution });\n    }\n\n      handleScan = data => {\n        if (data) {\n          this.setState({\n            result: data\n          })\n          const details = data.replace(\" \",\"-\")\n          axios.get('https://young-beyond-07801.herokuapp.com/api/levelup/'+details)\n        }\n      }\n      handleError = err => {\n        console.error(err)\n      }\n\n    render() {\n      let {contribution} = this.state\n        return (\n            <div className=\"qrreader-wrapper\">\n              <div className=\"qrreader-container container\">\n                <div className=\"columns is-centered\">\n                  <div className=\"column is-5 box\">\n                    <p className=\"has-text-centered\">Escanea el codigo QR presentado por el usuario</p>\n                    <br/>\n                      <div className=\"qr-code-reader\">\n                        <QrReader\n                        delay={300}\n                        onError={this.handleError}\n                        onScan={this.handleScan}\n                        style={{ width: '40%' }}\n                        />\n                      </div>\n                    <br/>\n                    <p className=\"has-text-centered\">{this.state.result}</p>\n                    {this.state.result ? \n                        <>\n                        <p>Registra la contribucion del usuario!</p>\n                        <form className=\"columns is-5 box\" onSubmit={this.onSubmit}>\n                        <div className=\"field\">\n                          <div className=\"control\">\n                          <input className=\"input is-primary\" onChange={this.handleInput} name=\"quantity\" value={contribution.quantity} type=\"text\" placeholder=\"cantidad\"/>\n                          </div>\n                        </div>\n                        <div className=\"field\">\n                          <div className=\"control\">\n                          <input className=\"input is-primary\"  onChange={this.handleInput} name=\"unity\" value={contribution.unity} type=\"text\" placeholder=\"ejemplo: litros, kilos\"/>\n                          </div>\n                        </div>\n                        <div>\n                          <input className=\"button is-primary is-fullwidth\" type=\"submit\" value=\"Agregar contribucion\"/>\n                        </div>\n                        </form>\n                      </>\n                      :\n                      ''\n                  }\n\n\n                    <div className='button-contribution'>\n                      <NavLink to='/centers'>\n                        <button className='button is-primary'>Centros</button>\n                      </NavLink>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n        }\n    }\n"]},"metadata":{},"sourceType":"module"}