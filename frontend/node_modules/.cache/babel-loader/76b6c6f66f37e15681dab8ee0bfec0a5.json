{"ast":null,"code":"import _classCallCheck from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import MY_SERVICE from'../../services/index';import{MyContext}from'../../context';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:{}};_this.handleInput=function(e){var user=_this.state.user;var key=e.target.name;user[key]=e.target.value;_this.setState({user:user});};_this.logUser=function(loggedUser){_this.setState({loggedUser:loggedUser});};_this.onSubmit=function(e){e.preventDefault();MY_SERVICE.login(_this.state.user).then(function(response){_this.context.logUser(response.data.user);localStorage.setItem('user',JSON.stringify(response.data.user));_this.props.history.push('/home');}).catch(function(error){console.log(error);});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"login-wrapper\"},React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"columns is-centered\"},React.createElement(\"div\",{className:\"column is-5\"},React.createElement(\"h1\",{className:\"title is-1 has-text-light\"},\"Iniciar sesi\\xF3n\"),React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"label\",{className:\"label has-text-light is-size-4\"},\"Email\"),React.createElement(\"input\",{className:\"input\",type:\"email\",name:\"email\",placeholder:\"Email\",onChange:this.handleInput}),React.createElement(\"label\",{className:\"label has-text-light is-size-4\"},\"Contrase\\xF1a\"),React.createElement(\"input\",{className:\"input\",type:\"password\",name:\"password\",placeholder:\"Password\",onChange:this.handleInput}),React.createElement(\"input\",{className:\"button is-primary\",type:\"submit\",value:\"Login\"})),React.createElement(\"p\",{className:\"has-text-light is-size-5\"},\"Si a\\xFAn no tienes una cuenta, puedes crearla \",React.createElement(Link,{to:\"/signup\"},\"aqu\\xED   \")))));}}]);return Login;}(Component);Login.contextType=MyContext;export default Login;","map":{"version":3,"sources":["/home/nicte/ironhack/Proyecto-Modulo-3/frontend/src/components/Login/Login.js"],"names":["React","Component","Link","MY_SERVICE","MyContext","Login","state","user","handleInput","e","key","target","name","value","setState","logUser","loggedUser","onSubmit","preventDefault","login","then","response","context","data","localStorage","setItem","JSON","stringify","props","history","push","catch","error","console","log","contextType"],"mappings":"40BACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,OAASC,SAAT,KAA0B,eAA1B,C,GAGMC,CAAAA,K,2XACFC,K,CAAQ,CACJC,IAAI,CAAE,EADF,C,OAIRC,W,CAAc,SAACC,CAAD,CAAO,IACTF,CAAAA,IADS,CACA,MAAKD,KADL,CACTC,IADS,CAEjB,GAAMG,CAAAA,GAAG,CAAGD,CAAC,CAACE,MAAF,CAASC,IAArB,CACAL,IAAI,CAACG,GAAD,CAAJ,CAAYD,CAAC,CAACE,MAAF,CAASE,KAArB,CACA,MAAKC,QAAL,CAAc,CAAEP,IAAI,CAAJA,IAAF,CAAd,EACH,C,OAEDQ,O,CAAU,SAACC,UAAD,CAAgB,CACtB,MAAKF,QAAL,CAAc,CAAEE,UAAU,CAAVA,UAAF,CAAd,EACH,C,OAEDC,Q,CAAW,SAACR,CAAD,CAAO,CACdA,CAAC,CAACS,cAAF,GACAf,UAAU,CAACgB,KAAX,CAAiB,MAAKb,KAAL,CAAWC,IAA5B,EACCa,IADD,CACM,SAACC,QAAD,CAAc,CAChB,MAAKC,OAAL,CAAaP,OAAb,CAAqBM,QAAQ,CAACE,IAAT,CAAchB,IAAnC,EACAiB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACE,IAAT,CAAchB,IAA7B,CAA7B,EACA,MAAKqB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,EACH,CALD,EAMCC,KAND,CAMO,SAACC,KAAD,CAAW,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CARD,EASH,C,wEAEQ,CACL,MACI,4BAAK,SAAS,CAAC,eAAf,EACO,8BADP,CAEA,8BAFA,CAGA,8BAHA,CAIA,8BAJA,CAMC,2BAAK,SAAS,CAAC,qBAAf,EACI,2BAAK,SAAS,CAAC,aAAf,EACA,0BAAI,SAAS,CAAC,2BAAd,sBADA,CAEO,4BAAM,QAAQ,CAAE,KAAKf,QAArB,EACI,6BAAO,SAAS,CAAC,gCAAjB,UADJ,CAEI,6BAAO,SAAS,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,IAAI,CAAC,OAA3C,CAAmD,WAAW,CAAC,OAA/D,CAAuE,QAAQ,CAAE,KAAKT,WAAtF,EAFJ,CAGI,6BAAO,SAAS,CAAC,gCAAjB,kBAHJ,CAII,6BAAO,SAAS,CAAC,OAAjB,CAAyB,IAAI,CAAC,UAA9B,CAAyC,IAAI,CAAC,UAA9C,CAAyD,WAAW,CAAC,UAArE,CAAgF,QAAQ,CAAE,KAAKA,WAA/F,EAJJ,CAKI,6BAAO,SAAS,CAAC,mBAAjB,CAAqC,IAAI,CAAC,QAA1C,CAAmD,KAAK,CAAC,OAAzD,EALJ,CAFP,CASG,yBAAG,SAAS,CAAC,0BAAb,oDAAoF,oBAAC,IAAD,EAAM,EAAE,CAAE,SAAV,eAApF,CATH,CADJ,CAND,CADJ,CAsBH,C,mBApDeP,S,EAsDpBI,KAAK,CAAC8B,WAAN,CAAoB/B,SAApB,CACA,cAAeC,CAAAA,KAAf","sourcesContent":["\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport MY_SERVICE from '../../services/index';\nimport { MyContext } from '../../context';\n\n\nclass Login extends Component {\n    state = {\n        user: {}\n    }\n\n    handleInput = (e) => {\n        const { user } = this.state;\n        const key = e.target.name;\n        user[key] = e.target.value;    \n        this.setState({ user });\n    }\n\n    logUser = (loggedUser) => {\n        this.setState({ loggedUser })\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        MY_SERVICE.login(this.state.user)\n        .then((response) => {\n            this.context.logUser(response.data.user);\n            localStorage.setItem('user', JSON.stringify(response.data.user))\n            this.props.history.push('/home');\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"login-wrapper\">\n                   <br/>\n            <br/>\n            <br/>\n            <br/>\n            \n             <div className=\"columns is-centered\">\n                 <div className=\"column is-5\">\n                 <h1 className=\"title is-1 has-text-light\">Iniciar sesión</h1>\n                        <form onSubmit={this.onSubmit}>\n                            <label className=\"label has-text-light is-size-4\">Email</label>\n                            <input className=\"input\" type=\"email\" name=\"email\" placeholder=\"Email\" onChange={this.handleInput}/>\n                            <label className=\"label has-text-light is-size-4\">Contraseña</label>\n                            <input className=\"input\" type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.handleInput}/>\n                            <input className=\"button is-primary\" type=\"submit\" value=\"Login\" />\n                        </form>\n                    <p className=\"has-text-light is-size-5\">Si aún no tienes una cuenta, puedes crearla <Link to={\"/signup\"}>aquí   </Link></p>   \n                 </div>\n             </div>\n            </div>\n        )\n    }\n}\nLogin.contextType = MyContext;\nexport default Login"]},"metadata":{},"sourceType":"module"}