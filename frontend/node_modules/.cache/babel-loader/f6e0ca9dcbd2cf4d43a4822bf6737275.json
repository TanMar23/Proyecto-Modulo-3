{"ast":null,"code":"var _jsxFileName = \"/home/nicte/ironhack/Proyecto-Modulo-3/frontend/src/components/Centers/Center.js\";\nimport React, { Component } from \"react\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport mapboxgl from \"mapbox-gl\";\nimport axios from 'axios';\nimport QRCode from 'qrcode.react';\nimport QrReader from 'react-qr-reader';\nimport Layout from '../Layout';\nmapboxgl.accessToken = \"pk.eyJ1IjoibWx6eiIsImEiOiJjandrNmVzNzUwNWZjNGFqdGcwNmJ2ZWhpIn0.ybY6wnAtJwj-Tq0c46sW6A\";\n\nclass Center extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      center: {}\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:3000/api/center/\".concat(this.props.match.params.id)).then(res => {\n      this.setState({\n        center: res.data.place\n      });\n      const map = new mapboxgl.Map({\n        container: this.mapContainer,\n        style: \"mapbox://styles/mapbox/streets-v9\"\n      });\n\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          const user_location = [position.coords.longitude, position.coords.latitude];\n          map.setZoom(12).setCenter(user_location);\n          new mapboxgl.Marker({\n            color: \"red\"\n          }).setLngLat(user_location).setPopup(new mapboxgl.Popup().setHTML(\"<h3>Usted está aquí</h3>\")).addTo(map);\n        });\n      }\n\n      if (this.state.center.longitud && this.state.center.latitud) {\n        const center_location = [this.state.center.longitud, this.state.center.latitud];\n        new mapboxgl.Marker({\n          color: \"green\"\n        }).setLngLat(center_location).setPopup(new mapboxgl.Popup().setHTML(\"<h3>Destino</h3>\")).addTo(map);\n      }\n\n      map.addControl(new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true\n        },\n        trackUserLocation: true,\n        showUserLocation: true\n      }));\n      map.addControl(new MapboxDirections({\n        accessToken: mapboxgl.accessToken,\n        unit: \"metric\",\n        language: \"es\",\n        placeholderOrigin: \"Seleccione su lugar de origen\",\n        placeholderDestination: \"Seleccione su destino\"\n      }), \"top-left\");\n      map.addControl(new mapboxgl.NavigationControl());\n    });\n  }\n\n  render() {\n    return React.createElement(Layout, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"has-text-centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Categoria: \", this.state.center.tipoResiduo), React.createElement(\"div\", {\n      className: \"columns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column is -7 map\",\n      style: {\n        width: \"50vw\",\n        height: \"90vh\"\n      },\n      ref: e => this.mapContainer = e,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"column is-5 data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"card-header-title card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.center.empresa)), React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Direccion: \", this.state.center.address), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Email: \", this.state.center.email ? this.state.center.email : 'No disponible'), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Numero: \", this.state.center.contactNumber ? this.state.center.contactNumber : 'No disponible'), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Website: \", this.state.center.website ? this.state.center.website : 'No disponible'), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Horario: \", this.state.center.horario ? this.state.center.horario : 'No disponible')), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(QRCode, {\n      value: this.state.center.website ? this.state.center.website : '#',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })))))))));\n  }\n\n}\n\nexport default Center;","map":{"version":3,"sources":["/home/nicte/ironhack/Proyecto-Modulo-3/frontend/src/components/Centers/Center.js"],"names":["React","Component","MapboxDirections","mapboxgl","axios","QRCode","QrReader","Layout","accessToken","Center","state","center","componentDidMount","get","props","match","params","id","then","res","setState","data","place","map","Map","container","mapContainer","style","navigator","geolocation","getCurrentPosition","position","user_location","coords","longitude","latitude","setZoom","setCenter","Marker","color","setLngLat","setPopup","Popup","setHTML","addTo","longitud","latitud","center_location","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","showUserLocation","unit","language","placeholderOrigin","placeholderDestination","NavigationControl","render","history","tipoResiduo","width","height","e","empresa","address","email","contactNumber","website","horario"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport mapboxgl from \"mapbox-gl\";\nimport axios from 'axios';\nimport QRCode from 'qrcode.react';\nimport QrReader from 'react-qr-reader'\nimport Layout from '../Layout'\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoibWx6eiIsImEiOiJjandrNmVzNzUwNWZjNGFqdGcwNmJ2ZWhpIn0.ybY6wnAtJwj-Tq0c46sW6A\";\n\nclass Center extends Component {\n    state = {\n                center: {}\n            }\n        \n\n\n  componentDidMount() {\n    axios.get(`http://localhost:3000/api/center/${this.props.match.params.id}`).then( res =>{\n    this.setState({center: res.data.place})\n    const map = new mapboxgl.Map({\n        container: this.mapContainer,\n        style: \"mapbox://styles/mapbox/streets-v9\"\n      });\n  \n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(function(position) {\n          const user_location = [\n            position.coords.longitude,\n            position.coords.latitude\n          ];\n          map.setZoom(12).setCenter(user_location);\n          new mapboxgl.Marker({ color: \"red\" })\n            .setLngLat(user_location)\n            .setPopup(new mapboxgl.Popup().setHTML(\"<h3>Usted está aquí</h3>\"))\n            .addTo(map);\n        });\n      }\n\n    if(this.state.center.longitud && this.state.center.latitud){\n        const center_location = [this.state.center.longitud, this.state.center.latitud]\n        new mapboxgl.Marker({ color: \"green\" })\n        .setLngLat(center_location)\n        .setPopup(new mapboxgl.Popup().setHTML(\"<h3>Destino</h3>\"))\n        .addTo(map);\n    }\n  \n      map.addControl(\n        new mapboxgl.GeolocateControl({\n          positionOptions: {\n            enableHighAccuracy: true\n          },\n          trackUserLocation: true,\n          showUserLocation: true\n        })\n      );\n  \n      map.addControl(\n        new MapboxDirections({\n          accessToken: mapboxgl.accessToken,\n          unit: \"metric\",\n          language: \"es\",\n          placeholderOrigin: \"Seleccione su lugar de origen\",\n          placeholderDestination: \"Seleccione su destino\"\n        }),\n        \"top-left\"\n      );\n  \n      map.addControl(new mapboxgl.NavigationControl());\n  \n    })\n  }\n  render() {\n    return (\n      <Layout history={this.props.history}>\n   <div className=\"section\">\n\n        <div className=\"container\">\n        <p className=\"has-text-centered\">Categoria: {this.state.center.tipoResiduo}</p>\n\n            <div className=\"columns\">\n                <div\n                className=\"column is -7 map\" style={{ width: \"50vw\", height: \"90vh\" }}\n                ref={e => (this.mapContainer = e)}/>\n                <div className=\"column is-5 data\">\n                   <div className=\"card\">\n                        <header className=\"card-header\">\n                            <p className=\"card-header-title card-text\">\n                                {this.state.center.empresa}\n                            </p>\n                        </header>\n                        <div className=\"card-content\">\n                            <div className=\"content\">\n                                <p>Direccion: {this.state.center.address}</p>\n                                <p>Email: {this.state.center.email ? this.state.center.email : 'No disponible'}</p>\n                                <p>Numero: {this.state.center.contactNumber ? this.state.center.contactNumber : 'No disponible'}</p>\n                                <p>Website: {this.state.center.website ? this.state.center.website : 'No disponible'}</p>\n                                <p>Horario: {this.state.center.horario ? this.state.center.horario : 'No disponible'}</p>\n                            </div>\n                            <div>\n                              <QRCode value={this.state.center.website ? this.state.center.website : '#'} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n   </div>\n   </Layout>\n    );\n  }\n}\n\nexport default Center;"]},"metadata":{},"sourceType":"module"}